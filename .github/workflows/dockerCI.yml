name: dockerCI

on:
  push:
    branches: [ "master" ]
  # pull_request:
    # branches: [ "master" ]
  workflow_dispatch:
  schedule:
  - cron: "0 2 * * 1-5"

jobs:
  build:

    runs-on: ubuntu-latest

    steps:
    - uses: actions/checkout@v4

    - name: ubuntu-latest-run-something
      run: |
        echo "--> docker pull nginx"
        docker pull nginx
        echo "--> java -version"
        java -version
        echo "--> mvn -v"
        mvn -v
        echo "--> pwd"
        pwd
        echo "--> ls -al ../"
        ls -al ../
        echo "--> ls -al"
        ls -al

    - name: ubuntu-latest-run-something
      run: |
        echo "--> mvn clean package"
        mvn clean package

    - name: ubuntu-latest-run-something
      run: |
        echo "--> ls -al"
        ls -al
        echo "--> ls -al ./target"
        ls -al ./target

    - name: ubuntu-latest-run-something
      run: |
        echo "--> java -jar ./target/YaJian-0.0.1.jar"
        java -jar ./target/YaJian-0.0.1.jar
